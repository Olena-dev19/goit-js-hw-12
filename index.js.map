{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\n\naxios.defaults.baseURL = \"https://pixabay.com/api/\";\naxios.defaults.params = {\n    key: \"51771971-26538829ed76446a8c68a5295\",\n    q: '',\n    image_type: 'photo',\n    orientation:'horizontal',\n    safesearch: true,\n}\n\nexport function getImagesByQuery(query) {\n    return axios.get('',\n        { params: { ...axios.defaults.params, q: query } }).then(res => res.data);\n   \n}\n\n\n","// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader-hidden');\n\nlet galleryLight = null;\n\nexport function createGallery(images) {\n\n    let markup = images.map(image => `<li class=\"item-gallery\">\n        <a href=\"${image.largeImageURL}\"><img src=\"${image.webformatURL}\" alt=\"${image.tags}\" width=\"360px\" height=\"152px\"> </a>\n        <ul class=\"card-info\">\n          <li>\n            <h4>Likes</h4>\n            <p>${image.likes}</p>\n          </li>\n\n          <li>\n            <h4>Views</h4>\n            <p>${image.views}</p>\n          </li>\n          <li>\n            <h4>Comments</h4>\n            <p>${image.comments}</p>\n          </li>\n          <li>\n            <h4>Downloads</h4>\n            <p>${image.downloads}</p>\n          </li>\n        </ul>\n      </li>`).join('');\n    \n    gallery.insertAdjacentHTML('afterbegin', markup);\n\n    if (!galleryLight) {\n        galleryLight = new SimpleLightbox('.gallery a', {\n            captionsData: 'alt',\n            captionDelay: 250\n        });\n    } else {\n        galleryLight.refresh();\n    }\n}\n\n\nexport function clearGallery() {\n    gallery.innerHTML = '';\n}\n\nexport function showLoader() {\n    if (loader) {\n        loader.classList.add('is-active');\n    }\n}\n\nexport function hideLoader() {\n    if (loader) {\n        loader.classList.remove('is-active');\n    }\n}\n\n\n\n\n\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport axios from \"axios\";\nimport { getImagesByQuery } from './js/pixabay-api';\nimport {createGallery} from './js/render-functions'\nimport { clearGallery } from './js/render-functions';\nimport {showLoader} from './js/render-functions'\nimport {hideLoader} from './js/render-functions'\n\n//======================================\n\nconst formEl = document.querySelector('.form');\nconst inputValue = document.querySelector('[type=\"text\"]');\nconst gallery = document.querySelector('.gallery');\n\n\nformEl.addEventListener(\"submit\", (e) => {\n    e.preventDefault();\n\n    let inpValue = inputValue.value.trim();\n\n    if (!inpValue) {\n        iziToast.error({\n            message: 'Sorry, there are no images matching your search query. Please try again!'\n        });\n        clearGallery();\n        return;\n    }\n     showLoader();\n        \n\n    getImagesByQuery(inpValue)\n        .then(data => {\n            const arrOfImage = data.hits;\n\n            if (arrOfImage.length === 0) {\n                iziToast.error({\n                    message: 'Sorry, there are no images matching your search query. Please try again!'\n                });\n                clearGallery();\n                return;\n            }\n            clearGallery();\n            createGallery(arrOfImage);\n            }).catch(err => {\n                iziToast.error({\n                    message: 'Sorry, there are no images matching your search query. Please try again!'\n                })\n                clearGallery();\n            }).finally(() => {\n                hideLoader();\n            })\n    \n   \n    formEl.reset();\n});\n\n"],"names":["axios","getImagesByQuery","query","res","gallery","loader","galleryLight","createGallery","images","markup","image","SimpleLightbox","clearGallery","showLoader","hideLoader","formEl","inputValue","e","inpValue","iziToast","data","arrOfImage","err"],"mappings":"owBAGAA,EAAM,SAAS,QAAU,2BACzBA,EAAM,SAAS,OAAS,CACpB,IAAK,qCACL,EAAG,GACH,WAAY,QACZ,YAAY,aACZ,WAAY,EAChB,EAEO,SAASC,EAAiBC,EAAO,CACpC,OAAOF,EAAM,IAAI,GACb,CAAE,OAAQ,CAAE,GAAGA,EAAM,SAAS,OAAQ,EAAGE,CAAO,CAAA,CAAE,EAAE,KAAKC,GAAOA,EAAI,IAAI,CAEhF,CCXA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,gBAAgB,EAEtD,IAAIC,EAAe,KAEZ,SAASC,EAAcC,EAAQ,CAElC,IAAIC,EAASD,EAAO,IAAIE,GAAS;AAAA,mBAClBA,EAAM,aAAa,eAAeA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,iBAI1EA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA,iBAKXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,iBAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,iBAIdA,EAAM,SAAS;AAAA;AAAA;AAAA,YAGpB,EAAE,KAAK,EAAE,EAEjBN,EAAQ,mBAAmB,aAAcK,CAAM,EAE1CH,EAMDA,EAAa,QAAO,EALpBA,EAAe,IAAIK,EAAe,aAAc,CAC5C,aAAc,MACd,aAAc,GAC1B,CAAS,CAIT,CAGO,SAASC,GAAe,CAC3BR,EAAQ,UAAY,EACxB,CAEO,SAASS,GAAa,CACrBR,GACAA,EAAO,UAAU,IAAI,WAAW,CAExC,CAEO,SAASS,GAAa,CACrBT,GACAA,EAAO,UAAU,OAAO,WAAW,CAE3C,CCnDA,MAAMU,EAAS,SAAS,cAAc,OAAO,EACvCC,EAAa,SAAS,cAAc,eAAe,EACzC,SAAS,cAAc,UAAU,EAGjDD,EAAO,iBAAiB,SAAWE,GAAM,CACrCA,EAAE,eAAc,EAEhB,IAAIC,EAAWF,EAAW,MAAM,KAAI,EAEpC,GAAI,CAACE,EAAU,CACXC,EAAS,MAAM,CACX,QAAS,0EACrB,CAAS,EACDP,IACA,MACH,CACAC,IAGDZ,EAAiBiB,CAAQ,EACpB,KAAKE,GAAQ,CACV,MAAMC,EAAaD,EAAK,KAExB,GAAIC,EAAW,SAAW,EAAG,CACzBF,EAAS,MAAM,CACX,QAAS,0EAC7B,CAAiB,EACDP,IACA,MACH,CACDA,IACAL,EAAcc,CAAU,CACpC,CAAa,EAAE,MAAMC,GAAO,CACZH,EAAS,MAAM,CACX,QAAS,0EAC7B,CAAiB,EACDP,GAChB,CAAa,EAAE,QAAQ,IAAM,CACbE,GAChB,CAAa,EAGTC,EAAO,MAAK,CAChB,CAAC"}